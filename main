import webapp2
import random

html_head = """
<!doctype html>
<html>
  <head>
    <title>Flicklist</title>
  </head>
  <body>
    """

html_tail = """
  </body>
</html>
"""

class Index(webapp2.RequestHandler):
def get(self):
    html_form = """
        <form id="add_form" method="POST" action="/addmovie">
          <label for="add_form_title">Title</title>
          <input id="add_form_title" name="movieTitle" type="text"></title>
          <input type="submit"></input>
        </ form>
"""
self.response.write(html_head + html_form + html_tail)

class AddMovie(webapp2.RequestHandler):
"""Handle adding movies
"""
  def post(self):
      movie_self = self.request.POST['movieTitle']
      #TODO much later:  add to DB  // stub out the details

      body = "Added <b>" + movie_title + "</b>
      
      self.request.write(movieTitle)





class Index(webapp2.RequestHandler):

    def getRandomMovie(self):

        # list of movies to select from
        movies = ("The Big Lebowski", "Hero", "Training Day", "Pee-Wee's Big Adventure", "Ray")

        # randomly choose one of the movies


        return random.choice(movies)

    def get(self):
        movie = self.getRandomMovie()
        tomorrow_movie = self.getRandomMovie()
        while movie == tomorrow_movie:
            tomorrow_movie == self.getRandomMovie()
        # build the response string
        response = "<h1>Movie of the Day</h1>"
        response += "<p>" + movie + "</p>"
        response += "<h1>Tomorrow's Movie</h1>"
        response += "<p>" + tomorrow_movie + "</p>"
        self.response.write(response)

app = webapp2.WSGIApplication([
    ('/', Index)
    ('/addmovie', AddMovie)
], debug=True)
